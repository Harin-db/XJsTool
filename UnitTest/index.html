<!doctype html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" href="qunit/qunit.css" type="text/css" media="screen" />
  <script type="text/javascript" src="qunit/qunit.js"></script>
  <script type="text/javascript" src="../build/XJsTool.min.js"></script>
</head>
<body>
  <h1 id="qunit-header">XJsTool单元测试</h1>
  <h2 id="qunit-banner"></h2>
  <h2 id="qunit-userAgent"></h2>
  <ol id="qunit-tests"></ol>
</body>
<script type="text/javascript">
//Array
test("XJ.Array.Concat", function() {
  deepEqual( XJ.Array.Concat([1,2],[3,4],[5,6]) , [1,2,3,4,5,6], "Passed!" );
});
test("XJ.Array.Join", function() {
  ok(XJ.Array.Join(',',[1,2,3],[4,5],['a','b','c'])=="1,2,3,4,5,a,b,c","Passed!");
});
test("XJ.Array.InArray", function() {
  ok(XJ.Array.InArray('a',[1,2,3,'b','a','d','s'])===4,"Passed!");
  ok(XJ.Array.InArray('a',[1,2,3,'b','a','d','s'],5)===-1,"Passed!");
});
test("XJ.Array.Unique",function(){
    deepEqual(XJ.Array.Unique([1,1,2,2,3]),[1,2,3],"Passed!");
});
test("XJ.Array.Remove",function(){
    deepEqual(XJ.Array.Remove([1,2,3,4,5],[4,5,6]),[1,2,3],"Passed!");
});
test("XJ.Array.ToArray",function(){
    deepEqual(XJ.Array.ToArray("[1,2,3]"),[1,2,3],"Passed!");
});
//common
test("XJ.Common.CreateNamespace",function(){
    ok(XJ.Common.CreateNamespace("a.b.c.d.e")==a.b.c.d.e,"Passed!");
});
//ContentType
test("XJ.ContentType.IsGif",function(){
    ok(XJ.ContentType.IsGif("Image/Gif"),"Passed!");
    ok(!XJ.ContentType.IsGif("Image/Jpeg"),"Passed!");
});
test("XJ.ContentType.IsJpg",function(){
    ok(XJ.ContentType.IsJpg("Image/Jpeg"),"Passed!");
    ok(XJ.ContentType.IsJpg("application/x-jpg"),"Passed!");
    ok(!XJ.ContentType.IsJpg("application/x-x"),"Passed!");
});
test("XJ.ContentType.IsPng",function(){
    ok(XJ.ContentType.IsPng("Image/png"),"Passed!");
    ok(XJ.ContentType.IsPng("application/x-png"),"Passed!");
    ok(!XJ.ContentType.IsPng("application/x-x"),"Passed!");
});
test("XJ.ContentType.IsBmp",function(){
    ok(XJ.ContentType.IsBmp("application/x-bmp"),"Passed!");
    ok(!XJ.ContentType.IsBmp("application/x-x"),"Passed!");
});
test("XJ.ContentType.IsImage",function(){
    ok(XJ.ContentType.IsImage("Image/Gif"),"Passed!");
    ok(XJ.ContentType.IsImage("Image/Jpeg"),"Passed!");
    ok(XJ.ContentType.IsImage("Image/png"),"Passed!");
    ok(XJ.ContentType.IsImage("application/x-jpg"),"Passed!");
    ok(XJ.ContentType.IsImage("application/x-png"),"Passed!");
    ok(XJ.ContentType.IsImage("application/x-bmp"),"Passed!");
    
    ok(!XJ.ContentType.IsImage("application/x-x"),"Passed!");
});

//Data
test("XJ.Data.GetInt",function(){
    ok(XJ.Data.GetInt("1")===1,"Passed!");
    ok(XJ.Data.GetInt("a")===0,"Passed!");
    ok(XJ.Data.GetInt("1.1")===1,"Passed!");
    ok(XJ.Data.GetInt(null)===0,"Passed!");
});
test("XJ.Data.GetIntNull",function(){
    ok(XJ.Data.GetIntNull("1")===1,"Passed!");
    ok(XJ.Data.GetIntNull("abc")===null,"Passed!");
    ok(XJ.Data.GetIntNull(null)===null,"Passed!");
    ok(XJ.Data.GetIntNull(1.1)!=null,"Passed!");
});
test("XJ.Data.GetIntDefault",function(){
    ok(XJ.Data.GetIntDefault("1",2)===1,"Passed!");
    ok(XJ.Data.GetIntDefault("abc",100)===100,"Passed!");
    ok(XJ.Data.GetIntDefault(null)===undefined,"Passed!");
});
test("XJ.Data.GetFloat",function(){
    ok(XJ.Data.GetFloat("1")===1,"Passed!");
    ok(XJ.Data.GetFloat("abc")===0,"Passed!");
    ok(XJ.Data.GetFloat(null)===0,"Passed!");
    ok(XJ.Data.GetFloat(1.123456)===1.123456,"Passed!");
});
test("XJ.Data.GetFloatNull",function(){
    ok(XJ.Data.GetFloatNull("1")===1,"Passed!");
    ok(XJ.Data.GetFloatNull("abc")===null,"Passed!");
    ok(XJ.Data.GetFloatNull(null)===null,"Passed!");
    ok(XJ.Data.GetFloatNull(1.123456)===1.123456,"Passed!");
});
test("XJ.Data.GetFloatDefault",function(){
    ok(XJ.Data.GetFloatDefault("1.123",2)===1.123,"Passed!");
    ok(XJ.Data.GetFloatDefault("abc",100.123)===100.123,"Passed!");
    ok(XJ.Data.GetFloatDefault(null)===undefined,"Passed!");
});
test("XJ.Data.GetObject",function(){
    ok(XJ.Data.GetObject("1.123")===1.123,"Passed!");
    deepEqual(XJ.Data.GetObject("[{'name':'aaa'}]"),[{name:"aaa"}],"Passed!");
});
test("XJ.Data.IsNumber",function(){
    ok(!XJ.Data.IsNumber(NaN),"Passed!");
    ok(XJ.Data.IsNumber("123"),"Passed!");
    ok(XJ.Data.IsNumber("1.123"),"Passed!");
    ok(!XJ.Data.IsNumber("abc"),"Passed!");
    ok(!XJ.Data.IsNumber(null),"Passed!");
});
test("XJ.Data.IsObject",function(){
    ok(!XJ.Data.IsObject(NaN),"Passed!");
    ok(!XJ.Data.IsObject("123"),"Passed!");
    ok(XJ.Data.IsObject({}),"Passed!");
    ok(XJ.Data.IsObject([]),"Passed!");
    ok(!XJ.Data.IsObject(null),"Passed!");
});

</script>
</html>